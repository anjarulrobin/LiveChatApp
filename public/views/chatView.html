<div class="chat-body">
    <div class="card chat-left-bar">
        <div class="card-header">
            <h5> Registered users </h5>
        </div>

        <div class="card-body">
            <ul class="list-group" style="background-color: lightgray;">
                <li class="list-group-item" ng-repeat="user in allUser">
                    <button class="btn chat-user" ng-click="selectFriend(user._id);">{{user.name}} <small style="color: red;" ng-show="messageCount[user._id]"> {{messageCount[user._id]}} </small>
                    </button>
                </li>
            </ul>
        </div>
    </div>

    <div class="card chat-box">
        <div class="card-header">
            <h5> Send to: {{friend.name}} </h5>
        </div>
        <div class="card-body overflow-auto chat-box-body">
            <ul class="list-group">
                <div ng-repeat="messageDetails in allMessage track by $index">
                    <li ng-if="findName(messageDetails.fromUserId) == 'You'" class="list-group-item case d-flex justify-content-end mb-2" style="background-color: inherit; border-style: none;" >
                        <div class="chat-box-own-message">
                            <div class="m-3 p-2" style="text-align: end;">
                                <strong style="display: block;"> {{messageDetails.message}} </strong> 
                                <small style="display: inline;"> {{messageDetails.time}} </small>
                            </div>
                        </div>
                    </li>
                    
                    <li ng-if="findName(messageDetails.fromUserId) != 'You'" class="list-group-item case d-flex justify-content-start mb-2" style="background-color: inherit; border-style: none;">
                        <div class="chat-box-friend-message">
                            <div class="m-3 p-2">
                                <span style="display: block;"><strong> {{messageDetails.message}} </strong> </span>
                                <span style="display: inline;"></span><small> {{messageDetails.time}} </small>
                            </div>
                        </div>
                    </li>
                </div>
            </ul>
        </div>
        <div class="card-footer">
            <form ng-submit="sendMessage()">
                <input type="text" class="shadow"  style="background-color: aliceblue; border-radius: 15px; padding: 8px;" placeholder="Write something..." ng-model="message">
                <button type="submit" class="btn btn-primary" style="border-radius: 10px; ">Send</button>
            </form>
        </div>
    </div>
</div>